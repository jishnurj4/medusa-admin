{"version":3,"file":"currency-input.js","sourceRoot":"","sources":["../../../../src/components/currency-input/currency-input.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport Primitive from \"react-currency-input-field\"\n\nimport { Text } from \"@/components/text\"\nimport { clx } from \"@/utils/clx\"\nimport { VariantProps, cva } from \"cva\"\n\nconst currencyInputVariants = cva({\n  base: clx(\n    \"flex items-center gap-x-1\",\n    \"bg-ui-bg-field hover:bg-ui-bg-field-hover shadow-buttons-neutral placeholder-ui-fg-muted text-ui-fg-base transition-fg relative w-full rounded-md\",\n    \"focus-within:shadow-borders-interactive-with-active\"\n  ),\n  variants: {\n    size: {\n      base: \"txt-compact-medium h-8\",\n      small: \"txt-compact-small h-7\",\n    },\n  },\n  defaultVariants: {\n    size: \"base\",\n  },\n})\n\ninterface CurrencyInputProps\n  extends Omit<\n      React.ComponentPropsWithoutRef<typeof Primitive>,\n      \"prefix\" | \"suffix\" | \"size\"\n    >,\n    VariantProps<typeof currencyInputVariants> {\n  symbol: string\n  code: string\n}\n\n/**\n * This component is based on the input element and supports all of its props\n *\n * @excludeExternal\n */\nconst CurrencyInput = React.forwardRef<HTMLInputElement, CurrencyInputProps>(\n  (\n    {\n      /**\n       * The input's size.\n       */\n      size = \"base\",\n      /**\n       * The symbol to show in the input.\n       */\n      symbol,\n      /**\n       * The currency code to show in the input.\n       */\n      code,\n      disabled,\n      onInvalid,\n      className,\n      ...props\n    }: CurrencyInputProps,\n    ref\n  ) => {\n    const innerRef = React.useRef<HTMLInputElement>(null)\n\n    React.useImperativeHandle<HTMLInputElement | null, HTMLInputElement | null>(\n      ref,\n      () => innerRef.current\n    )\n\n    const [valid, setValid] = React.useState(true)\n\n    const onInnerInvalid = React.useCallback(\n      (event: React.FormEvent<HTMLInputElement>) => {\n        setValid(event.currentTarget.validity.valid)\n\n        if (onInvalid) {\n          onInvalid(event)\n        }\n      },\n      [onInvalid]\n    )\n\n    return (\n      <div\n        onClick={() => {\n          if (innerRef.current) {\n            innerRef.current.focus()\n          }\n        }}\n        className={clx(\n          \"w-full cursor-text justify-between overflow-hidden\",\n          currencyInputVariants({ size }),\n          {\n            \"text-ui-fg-disabled !bg-ui-bg-disabled !shadow-buttons-neutral !placeholder-ui-fg-disabled cursor-not-allowed\":\n              disabled,\n            \"!shadow-borders-error invalid:!shadow-borders-error\":\n              props[\"aria-invalid\"] || !valid,\n          },\n          className\n        )}\n      >\n        <span\n          className={clx(\"w-fit min-w-[32px] border-r px-2\", {\n            \"py-[9px]\": size === \"base\",\n            \"py-[5px]\": size === \"small\",\n          })}\n          role=\"presentation\"\n        >\n          <Text\n            size=\"small\"\n            leading=\"compact\"\n            className={clx(\n              \"text-ui-fg-muted pointer-events-none select-none uppercase\",\n              {\n                \"text-ui-fg-disabled\": disabled,\n              }\n            )}\n          >\n            {code}\n          </Text>\n        </span>\n        <Primitive\n          className=\"h-full min-w-0 flex-1 appearance-none bg-transparent text-right outline-none disabled:cursor-not-allowed\"\n          disabled={disabled}\n          onInvalid={onInnerInvalid}\n          ref={innerRef}\n          {...props}\n        />\n        <span\n          className={clx(\n            \"flex w-fit min-w-[32px] items-center justify-center border-l px-2 text-right\",\n            {\n              \"py-[9px]\": size === \"base\",\n              \"py-[5px]\": size === \"small\",\n            }\n          )}\n          role=\"presentation\"\n        >\n          <Text\n            size=\"small\"\n            leading=\"compact\"\n            className={clx(\"text-ui-fg-muted pointer-events-none select-none\", {\n              \"text-ui-fg-disabled\": disabled,\n            })}\n          >\n            {symbol}\n          </Text>\n        </span>\n      </div>\n    )\n  }\n)\nCurrencyInput.displayName = \"CurrencyInput\"\n\nexport { CurrencyInput }\n"]}